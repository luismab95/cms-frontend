<div class="flex flex-auto flex-col p-6 md:p-8">
    <!-- Close button -->
    <div class="flex items-center justify-end">
        <a [matTooltip]="'Cerrar'" mat-icon-button [mat-dialog-close]="false">
            <mat-icon [svgIcon]="'heroicons_outline:x-mark'"></mat-icon>
        </a>
    </div>

    <!-- Preview -->
    <div class="mt-3 aspect-[9/4]">
        <div class="flex h-full items-center justify-center rounded-lg border bg-gray-50 dark:bg-card">
            <mat-icon class="text-hint icon-size-20" [svgIcon]="'heroicons_outline:document'"></mat-icon>
        </div>
    </div>

    <!-- Name & Type -->
    <div class="mt-8 flex flex-col items-start">
        <div class="text-xl font-medium">{{ item.name }}</div>
        <div class="mt-1 rounded px-1.5 text-sm font-semibold leading-5 text-white"
            [class.bg-red-600]="item.type === 'PDF'" [class.bg-blue-600]="item.type === 'DOC'"
            [class.bg-green-600]="item.type === 'XLS'" [class.bg-gray-600]="item.type === 'TXT'"
            [class.bg-amber-600]="item.type === 'JPG'">
            {{ item.type.toUpperCase() }}
        </div>
    </div>

    <!-- Information -->
    <div class="mt-8 text-lg font-medium">Información</div>
    <div class="mt-4 flex flex-col divide-y border-b border-t font-medium">
        <div class="flex items-center justify-between py-3">
            <div class="text-secondary">Creado por</div>
            <div>{{ item.createdBy }}</div>
        </div>
        <div class="flex items-center justify-between py-3">
            <div class="text-secondary">Fecha de creación</div>
            <div>{{ item.createdAt }}</div>
        </div>
        <div class="flex items-center justify-between py-3">
            <div class="text-secondary">Ultima modificación</div>
            <div>{{ item.modifiedAt }}</div>
        </div>
        <div class="flex items-center justify-between py-3">
            <div class="text-secondary">Tamaño (MB)</div>
            <div>{{ item.size }}</div>
        </div>
        <div class="flex items-center justify-between py-3">
            <div class="text-secondary">Url</div>
            <div [matTooltip]="'uploads/2024/03/informe-final-proyecto-auditoria-revision-red.pdf'"
                class="truncate w-80 absolute right-0">uploads/2024/03/informe-finalred.pdf</div>
        </div>
    </div>

    <!-- Description -->
    <div class="mt-8 flex items-center justify-between">
        <div class="text-lg font-medium">Descripción</div>
        @if(!editMode){
        <button [matTooltip]="'Editar'" (click)="toggleEditMode()" mat-icon-button>
            <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:pencil'"></mat-icon>
        </button>
        }
    </div>
    <div class="mt-2 flex border-t">
        @if(!editMode) {
        <div class="py-3">
            @if (item.description) {
            <div>{{ item.description }}</div>
            }
            @if (!item.description) {
            <div (click)="toggleEditMode()" class="text-secondary italic">
                Haga clic aquí para agregar una descripción </div>
            }
        </div>
        }@else {
        <!-- Descripción -->
        <div class="w-full">
            <mat-form-field class="w-full" [subscriptSizing]="'dynamic'">
                <textarea matInput cdkTextareaAutosize [cdkAutosizeMinRows]="5">
                </textarea>
            </mat-form-field>
            <div class="text-hint mt-1 text-md">
                Breve descripción del archivo.
            </div>
        </div>
        }
    </div>

    <!-- Actions -->
    <div class="mt-8 grid w-full grid-cols-2 gap-4">
        @if(!editMode) {
        <button (click)="deleteFile()" class="flex-auto" mat-stroked-button>Eliminar</button>
        <button class="flex-auto" mat-flat-button [color]="'primary'">
            Descargar
        </button>
        }@else {
        <button (click)="toggleEditMode()" class="flex-auto" mat-stroked-button>Cancelar</button>
        <button class="flex-auto" mat-flat-button [color]="'primary'">
            Guardar
        </button>
        }
    </div>
</div>